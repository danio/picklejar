module.exports = OutputDocument;

function OutputDocument(document, gherkinParser) {
  if (!(this instanceof OutputDocument))
    return new OutputDocument(document, gherkinParser);

    this.document_ = document;
    this.gherkinParser_ = gherkinParser;
}

OutputDocument.prototype.output = function(line) {
    var lineClass = this.gherkinParser_.getClass(line);
    $('#output').append('<span class="' + lineClass + '">' + line + '</span><br>');
}

OutputDocument.prototype.done = function() {
  $('.assertionFailed').attr('style', 'color:red');
  $('.failingScenariosStart').attr('style', 'color:green');
  $('.summaryError').attr('style', 'color:blue');
}

OutputDocument.prototype.clearOutput = function() {
  var myNode = this.document_.getElementById("output");
  while (myNode.firstChild) {
      myNode.removeChild(myNode.firstChild);
  }
}
