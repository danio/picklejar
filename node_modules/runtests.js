function runTests(testFilenames, output) {
  // testFilenames a list of filenames, or to run all tests,
  // the path to a test directory.
  var spawn = require("child_process").spawn;
  testRun = spawn('behave', testFilenames);
  testRun.stdout.on('data', function(data) {
    var str = String(data);
    var lines = str.split(/[\r\n]+/g);
    lines.forEach(function(line) {
      output(line);
  	});
  });
}

exports.runTests = runTests;
